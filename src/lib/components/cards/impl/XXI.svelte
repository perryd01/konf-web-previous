<script lang="ts">
	import { onMount } from 'svelte';
	import Card from '../index';
	import type { GenericPropsType } from './types';
	import { fade } from 'svelte/transition';

	const bg = '#000';

	const props: GenericPropsType = {
		title: 'XXI',
		year: 2024,
		iconName: 'xxi.svg',
		href: 'https://konferencia.simonyi.bme.hu'
	};

	const cardBodyProps = {
		title: props.title,
		year: props.year,
		href: props.href
	};

	let drawCondition = false;
	let firstDraw = true;

	onMount(() => {
		setTimeout(() => {
			drawCondition = !drawCondition;
			firstDraw = false;
		}, 1000);
	});
</script>

<Card.Body {...cardBodyProps}>
	<div class="size-full" style="background-color: {bg};">
		<div class="size-full group bg transition">
			<div class="size-full flex flex-col justify-center">
				<div class="size-full relative p-16 lg:p-24 select-none flex items-center justify-center">
					<svg
						width="100%"
						height="100%"
						viewBox="0 0 812 774"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						{#if drawCondition}
							<g id="stars" transition:fade={{ duration: 1000 }}>
								<path
									d="M558.385 545.611L557.846 545.072L432.319 412.396C340.896 320.988 340.896 216.183 429.049 128.079L544.046 0L415.896 114.934C327.743 203.037 219.609 206.306 128.15 114.934L0 0L114.998 128.079C206.421 219.451 203.114 327.525 114.998 415.628L0 543.707L128.15 428.774C216.303 340.67 321.203 340.67 412.662 432.078L773.466 773.036L558.385 545.611ZM378.917 167.408C326.413 236.619 331.66 303.065 376.509 372.636C288.356 284.604 287.458 258.852 378.917 167.408Z"
									fill="white"
								/>
								<path
									d="M599.389 393.683C554.432 348.644 554.432 297.067 597.736 253.608L654.516 190.754L591.483 247.323C548.143 290.638 494.957 292.255 450 247.323L386.787 190.754L443.352 253.608C488.308 298.54 486.691 351.733 443.352 395.048L391.603 452.515L392.142 453.09L449.676 401.621C493.016 358.305 544.585 358.305 589.542 403.237L766.998 570.933L599.389 393.683ZM576.964 271.567C551.054 305.759 553.641 338.587 575.778 372.924C532.331 329.213 531.792 316.498 576.964 271.351V271.567Z"
									fill="white"
								/>
							</g>
							<g id="lines" transition:fade={{ duration: 1000, delay: 500 }}>
								<path
									d="M328.173 424.32C293.566 471.838 260.504 524.061 244.692 581.276C236.391 611.303 231.216 650.955 254.79 675.809C274.016 696.066 304.419 696.892 330.257 692.654C374.711 685.471 416.973 663.526 455.066 640.395C558.959 577.326 650.526 488.575 721.968 390.666C752.155 349.29 779.754 304.682 797.435 256.338C808.216 226.706 817.955 189.604 805.377 158.932C792.044 126.606 756.97 119.423 725.238 123.302C662.061 131.24 602.622 168.485 551.628 204.222C545.554 208.461 551.34 218.589 557.485 214.207C601.149 183.642 648.621 154.442 700.514 140.147C729.55 132.174 772.926 125.996 791.398 156.705C806.707 182.134 798.118 217.188 789.673 243.372C776.053 285.322 753.484 324.364 728.94 360.784C665.487 454.01 585.998 535.254 494.165 600.743C456.395 627.681 415.931 652.571 372.339 668.985C344.92 679.257 310.348 689.817 281.383 679.401C243.901 665.896 246.776 620.461 254.862 588.819C269.632 530.921 303.52 478.052 338.307 430.246C342.727 424.212 332.665 418.43 328.317 424.392L328.173 424.32Z"
									fill="white"
								/>
								<path
									d="M558.204 212.34C594.716 188.491 635.073 165.037 678.628 157.459C704.862 152.862 736.127 156.489 745.075 185.69C752.909 211.154 743.314 240.822 734.006 264.706C720.243 299.833 700.226 332.517 678.556 363.262C628.65 433.737 568.023 495.979 498.872 547.73C467.712 571.766 433.962 592.246 398.25 608.789C373.597 619.743 344.919 630.339 317.428 627.681C220.183 618.45 314.301 464.583 338.451 429.061C341.434 424.679 334.318 420.585 331.264 424.931C304.275 464.439 277.143 509.407 268.913 557.5C264.816 581.42 266.002 610.046 287.349 625.741C306.827 640.108 334.067 637.414 356.024 632.206C394.081 623.227 429.838 603.832 462.54 582.965C543.111 531.316 613.978 462.787 671.405 386.751C698.465 350.835 723.261 312.547 740.259 270.884C750.645 245.419 760.312 215.105 753.987 187.378C733.324 97.1547 593.134 179.727 554.035 205.336C549.615 208.209 553.748 215.357 558.204 212.519V212.34Z"
									fill="white"
								/>
								<path
									d="M559.032 210.508C575.857 200.479 593.593 192.061 612.003 185.366C626.011 180.107 640.845 177.383 655.81 177.321C666.591 177.644 677.695 180.481 685.457 188.383C690.758 194.083 694.193 201.262 695.304 208.963C698.898 230.513 691.423 253.68 683.373 273.398C670.713 302.905 654.61 330.815 635.397 356.545C594.301 413.143 544.937 463.254 488.955 505.205C463.204 525.025 435.369 541.982 405.941 555.775C385.35 565.114 361.955 573.734 338.955 572.297C320.412 571.256 305.714 561.019 301.905 542.235C299.896 529.234 300.792 515.95 304.528 503.337C309.151 486.341 315.647 469.91 323.898 454.347C328.534 445.26 333.565 436.388 338.848 427.589C339.172 427.036 339.263 426.378 339.101 425.758C338.939 425.138 338.538 424.608 337.985 424.284C337.432 423.96 336.773 423.869 336.153 424.031C335.533 424.193 335.003 424.594 334.679 425.146C323.963 442.485 314.788 460.728 307.259 479.668C301.234 494.256 297.524 509.694 296.263 525.426C295.148 545.683 302.228 566.119 322.389 573.842C341.866 581.276 364.938 575.997 383.948 569.675C413.524 559.87 441.123 544.174 466.926 526.862C527.26 485.849 580.734 435.569 625.371 377.88C647.619 350.173 666.677 320.053 682.187 288.088C692.357 266.322 701.701 241.827 700.946 217.44C700.371 198.512 691.531 181.523 672.664 175.238C660.278 171.823 647.237 171.539 634.715 174.412C617.509 177.956 600.821 183.665 585.05 191.4C575.347 195.926 565.896 200.954 556.588 206.306C556.035 206.629 555.634 207.16 555.472 207.779C555.31 208.399 555.402 209.057 555.726 209.61C556.05 210.162 556.58 210.564 557.2 210.725C557.82 210.887 558.479 210.796 559.032 210.472V210.508Z"
									fill="white"
								/>
							</g>
							<g id="dots">
								<path
									transition:fade={{ duration: 1000, delay: 1500 }}
									d="M727.682 300.874C738.359 300.874 747.016 292.223 747.016 281.551C747.016 270.879 738.359 262.228 727.682 262.228C717.004 262.228 708.348 270.879 708.348 281.551C708.348 292.223 717.004 300.874 727.682 300.874Z"
									fill="white"
								/>
								<path
									transition:fade={{ duration: 1000, delay: 2000 }}
									d="M631.012 513.933C641.69 513.933 650.346 505.281 650.346 494.609C650.346 483.937 641.69 475.286 631.012 475.286C620.334 475.286 611.678 483.937 611.678 494.609C611.678 505.281 620.334 513.933 631.012 513.933Z"
									fill="white"
								/>
								<path
									transition:fade={{ duration: 1000, delay: 2500 }}
									d="M402.527 574.847C413.205 574.847 421.861 566.196 421.861 555.524C421.861 544.852 413.205 536.201 402.527 536.201C391.849 536.201 383.193 544.852 383.193 555.524C383.193 566.196 391.849 574.847 402.527 574.847Z"
									fill="white"
								/>
							</g>
						{/if}
					</svg>
				</div>
			</div>
		</div>
	</div>
</Card.Body>
